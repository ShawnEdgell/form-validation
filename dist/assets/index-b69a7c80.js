(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}})();function u(e){return/[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}/.test(e)}function m(e){return e.length>=8}function f(e){return e!==""}function p(e){return/^\d{5,6}$/.test(e)}function y(e,o){return e===o}function a(e,o){const n=e.nextElementSibling;e.classList.add("invalid"),n.textContent=o,n.style.display="inline"}function c(e){const o=e.nextElementSibling;e.classList.remove("invalid"),o.style.display="none"}async function h(){try{const e=await fetch("https://restcountries.com/v3.1/all");if(!e.ok)throw new Error("Failed to fetch country list. HTTP Status: "+e.status);return(await e.json()).sort((n,r)=>n.name.common.localeCompare(r.name.common))}catch(e){throw console.error("There was an issue fetching the country list:",e),e}}function v(){const e=document.getElementById("country");h().then(o=>{o.forEach(n=>{const r=document.createElement("option");r.value=n.name.common,r.textContent=n.name.common,e.appendChild(r)})}).catch(o=>{const n=document.createElement("option");n.value="",n.textContent="Failed to load countries",e.appendChild(n),e.disabled=!0})}function E(e){const o=document.querySelector(".form-container"),n=document.createElement("div");n.className="flex-container";const r=document.createElement("div");r.textContent="Form successfully submitted! ðŸŽ‰",r.style.color="green",r.style.fontSize="1.5em",r.style.marginTop="20px";const t=document.createElement("button");t.textContent="Return to Form",t.style.marginTop="10px",t.addEventListener("click",()=>{n.style.display="none",e.style.display="block"}),n.appendChild(r),n.appendChild(t),o.appendChild(n),e.reset(),e.style.display="none"}document.addEventListener("DOMContentLoaded",()=>{v();const e=document.getElementById("myForm"),o=document.getElementById("email"),n=document.getElementById("country"),r=document.getElementById("zip"),t=document.getElementById("password"),s=document.getElementById("confirm-password"),l=document.getElementById("formError"),d=()=>{let i=!0;return u(o.value)?c(o):(a(o,"Invalid email address."),i=!1),f(n.value)?c(n):(a(n,"Please select a country."),i=!1),p(r.value)?c(r):(a(r,"Invalid zip code."),i=!1),m(t.value)?c(t):(a(t,"Password must be at least 8 characters."),i=!1),y(t.value,s.value)?c(s):(a(s,"Passwords do not match."),i=!1),i};e.addEventListener("submit",i=>{i.preventDefault(),d()?E(e):(l.textContent="Please fill out all fields correctly.",l.style.display="block")})});
